# 13장 서브클래싱과 서브타이핑

## 스터디 날짜
2022/02/14

### 상속의 용도
1. 코드 재사용
2. 타입 개층 구현(부모 클래스는 일반적인 개념 구현, 자식 클래스는 특수한 개념 구현)<br>
부모 클래스는 자식 클래스의 **일반화(generalization)**, 자식 클래스는 부모 클래스의 **특수화(specialization)**

상속의 진짜 목표는 타입계층을 구현하여 다형적으로 동작하는 객체들의 관계에 기반하여 확장 가능하고 유연한 설계를 얻는 것이다.


## 1. 타입
### 개념 관점의 타입
**심볼(symbol)** : 타입에 이름을 붙인 것<br>
**내연(intension)** : **타입의 정의**로서 타입에 속하는 객체들이 가지는 공통적인 속성이나 행동<br>
**외연(extension)** : 타입에 속하는 **객체들의 집합**<br>

### 프로그래밍 언어 관점의 타입
프로그래밍 언어에서 타입은 2가지 목적을 위해 사용된다.
- 타입에 수행할 수 있는 유효한 오퍼레이션의 집합을 정의
모든 객체지향 언어들은 객체의 타입에 따라 적용 가능한 연산자의 종류를 제한함으로써 프로그래머의 실수를 막아준다.(ex +연산자가 사용 가능한 타입은 정해져 있다.) 
- 타입에 수행되는 오퍼레이션에 대해 미리 약속된 문맥을 제공
(ex)자바에서 +연산자는 int 는 합을 String 은 concat 의 의미를 가진다.)

### 객체지향 패러다임의 관점의 타입
지금 까지의 타입
- 개념 관점에서 타입이란 공통의 특징을 공유하는 대상들의 분류
- 프로그래밍 언어 관점에서 타입이란 동일한 오퍼레이션을 적용할 수 있는 인스턴스들의 집합

<br>
객체지향 프로그래밍에서 타입을 정의하는 것은 객체의 **퍼블릭 인터페이스**를 정의하는 것과 동일하다.<br>
객체지향에서는 객체가 수신할 수 있는 메시지를 기준으로 타입을 분류한다<br>
**객체의 퍼블릭 인터페이스가 객체의 타입을 결정한다. 따라서 동일한 퍼블릭 인터페이스를 제공하는 객체들은 동일한 타입으로 분류한다.**

## 2. 타입 계층
슈퍼타입(supertype) : 더 일반적인 타입<br>
서브타입(subtype) : 더 특수한 타입<br>
ex)프로그래밍언어는 객체지향 언어의 슈퍼타입, 클래스기반 언어는 객체지향 언어의 서브 타입<br>
<br>
외연의 관점(집합)<br>
슈퍼셋(superset) : 일반적인 타입의 인스턴스 지합은 특수한 타입의 인스턴스 집합을 포함하는 슈퍼셋이다.
서브셋(subset) : 특수한 타입의 인스턴스 집합은 일반적인 타입의 인스턴스 집합에 포함된 서브셋이다.
<br>
### 슈퍼 타입의 특징
- 집합이 다른 집합의 모든 멤버를 포함한다.
- 타입 정의가 다른 타입보다 좀 더 일반적이다.

### 서브 타입의 특징
- 잡합에 포함되는 인스턴스들이 더 큰 집합에 포함된다.
- 타입 저으이가 다른 타입보다 좀 더 구체적이다.

### 서브 타입의 인스턴스는 슈퍼타입의 인스턴스로 간주될 수 있다 이사실이 핵심이다.

## 3. 서브클래싱과 서브타이핑
### 언제 상속을 사용해야 하는가?
- 상속 관계가 is-a 관계를 모델링하는가? ex) [자식 클래스]는 [부모 클래스]이다.
- 클라이언트 입장에서 부모클래스의 타입으로 자식 클래스를 사용해도 무방한가? 클라이언트는 부모 클래스와 자식 클래스의 차이를 몰라야한다. : **행동 호환성**

### 두 클래스에 대해 기대하는 행동이 다르다면 비록 그것이 어휘적으로 is-a 관계로 표현할 수 있더라도 상속을 사용해서는 안된다!

### is-a 관계
타입 계층의 의미는 행동이라는 문맥에 따라 달라진다.<br>
펭귄은 새이다 : is a 관계를 만족하는 것 같다.<br><br>
하지만 **클라이언트**가 새에게 요구하는 행동이 하늘을 날다 이라면 펭귄은 하늘을 날지 못하기 때문에 두 관계는 **행동 호환성**이 존재하지 않는다.따라서 is-a 관계가 아니다<br>
행동의 호환 여부를 판단하는 기준은 **클라이언트의 관점** 이다.<br>
<br>

